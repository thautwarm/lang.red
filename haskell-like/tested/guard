expression[
    definition[
        declaration[
            symbol[
                "f"
            ]
        ]
        expression[
            dualOperation[
                unaryOperation[
                    atomExpr[
                        lambdef[
                            "("
                            arguments[
                                argument[
                                    expression[
                                        dualOperation[
                                            unaryOperation[
                                                atomExpr[
                                                    typing[
                                                        atom[
                                                            symbol[
                                                                "x"
                                                            ]
                                                        ]
                                                        ":"
                                                        typedef[
                                                            typedef[
                                                                symbol[
                                                                    "int"
                                                                ]
                                                            ]
                                                            "->"
                                                            typedef[
                                                                symbol[
                                                                    "int"
                                                                ]
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            ")"
                            "=>"
                            expression[
                                dualOperation[
                                    unaryOperation[
                                        atomExpr[
                                            typing[
                                                atom[
                                                    body[
                                                        "{"
                                                        expression[
                                                            guard[
                                                                branch[
                                                                    "when"
                                                                    expression[
                                                                        dualOperation[
                                                                            unaryOperation[
                                                                                atomExpr[
                                                                                    typing[
                                                                                        atom[
                                                                                            symbol[
                                                                                                "x"
                                                                                            ]
                                                                                        ]
                                                                                    ]
                                                                                    trailer[
                                                                                        "("
                                                                                        expression[
                                                                                            dualOperation[
                                                                                                unaryOperation[
                                                                                                    atomExpr[
                                                                                                        typing[
                                                                                                            atom[
                                                                                                                decimal[
                                                                                                                    "2"
                                                                                                                ]
                                                                                                            ]
                                                                                                        ]
                                                                                                    ]
                                                                                                ]
                                                                                            ]
                                                                                        ]
                                                                                        ")"
                                                                                    ]
                                                                                ]
                                                                            ]
                                                                            dualOperator[
                                                                                "=="
                                                                            ]
                                                                            unaryOperation[
                                                                                atomExpr[
                                                                                    typing[
                                                                                        atom[
                                                                                            decimal[
                                                                                                "2"
                                                                                            ]
                                                                                        ]
                                                                                    ]
                                                                                ]
                                                                            ]
                                                                        ]
                                                                    ]
                                                                    "then"
                                                                    expression[
                                                                        dualOperation[
                                                                            unaryOperation[
                                                                                atomExpr[
                                                                                    typing[
                                                                                        atom[
                                                                                            symbol[
                                                                                                "true"
                                                                                            ]
                                                                                        ]
                                                                                    ]
                                                                                ]
                                                                            ]
                                                                        ]
                                                                    ]
                                                                ]
                                                                branch[
                                                                    "when"
                                                                    expression[
                                                                        dualOperation[
                                                                            unaryOperation[
                                                                                atomExpr[
                                                                                    typing[
                                                                                        atom[
                                                                                            symbol[
                                                                                                "otherwise"
                                                                                            ]
                                                                                        ]
                                                                                    ]
                                                                                ]
                                                                            ]
                                                                        ]
                                                                    ]
                                                                    "then"
                                                                    expression[
                                                                        dualOperation[
                                                                            unaryOperation[
                                                                                atomExpr[
                                                                                    typing[
                                                                                        atom[
                                                                                            symbol[
                                                                                                "true"
                                                                                            ]
                                                                                        ]
                                                                                    ]
                                                                                ]
                                                                            ]
                                                                        ]
                                                                    ]
                                                                ]
                                                            ]
                                                        ]
                                                        "}"
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
        ]
    ]
]