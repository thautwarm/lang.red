expression[
    definition[
        declaration[
            symbol[
                "f"
            ]
            "("
            argument[
                expression[
                    dualOperation[
                        unaryOperation[
                            atomExpr[
                                typing[
                                    atom[
                                        symbol[
                                            "x"
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
            ")"
            "("
            argument[
                expression[
                    dualOperation[
                        unaryOperation[
                            atomExpr[
                                typing[
                                    atom[
                                        symbol[
                                            "~"
                                            "head"
                                        ]
                                    ]
                                ]
                            ]
                        ]
                        dualOperator[
                            "|"
                        ]
                        unaryOperation[
                            atomExpr[
                                typing[
                                    atom[
                                        symbol[
                                            "tail"
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
            ")"
            "("
            argument[
                expression[
                    dualOperation[
                        unaryOperation[
                            atomExpr[
                                typing[
                                    atom[
                                        symbol[
                                            "y"
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
            ")"
        ]
        expression[
            guard[
                branch[
                    "when"
                    expression[
                        dualOperation[
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "head"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            dualOperator[
                                ">"
                            ]
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "x"
                                            ]
                                        ]
                                    ]
                                    trailer[
                                        "("
                                        expression[
                                            dualOperation[
                                                unaryOperation[
                                                    atomExpr[
                                                        typing[
                                                            atom[
                                                                symbol[
                                                                    "y"
                                                                ]
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                            ]
                                        ]
                                        ")"
                                    ]
                                ]
                            ]
                        ]
                    ]
                    "then"
                    expression[
                        dualOperation[
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            body[
                                                "{"
                                                expression[
                                                    dualOperation[
                                                        unaryOperation[
                                                            atomExpr[
                                                                typing[
                                                                    atom[
                                                                        symbol[
                                                                            "x"
                                                                        ]
                                                                    ]
                                                                ]
                                                            ]
                                                        ]
                                                        dualOperator[
                                                            "+"
                                                        ]
                                                        unaryOperation[
                                                            atomExpr[
                                                                typing[
                                                                    atom[
                                                                        symbol[
                                                                            "y"
                                                                        ]
                                                                    ]
                                                                ]
                                                            ]
                                                        ]
                                                    ]
                                                ]
                                                "}"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
                branch[
                    "when"
                    expression[
                        dualOperation[
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "head"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            dualOperator[
                                "=="
                            ]
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "y"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                    "then"
                    expression[
                        dualOperation[
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "head"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                            dualOperator[
                                "|>"
                            ]
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "x"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
                endOfBranch[
                    "otherwise"
                    "then"
                    expression[
                        dualOperation[
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "null"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
        ]
    ]
]