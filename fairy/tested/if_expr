expression[
    definition[
        declaration[
            symbol[
                "if"
            ]
            arguments[
                argument[
                    expression[
                        dualOperation[
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "test"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
            arguments[
                argument[
                    expression[
                        macro[
                            "`"
                            expression[
                                dualOperation[
                                    unaryOperation[
                                        atomExpr[
                                            typing[
                                                atom[
                                                    symbol[
                                                        "and_then"
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
            arguments[
                argument[
                    expression[
                        macro[
                            "`"
                            expression[
                                dualOperation[
                                    unaryOperation[
                                        atomExpr[
                                            typing[
                                                atom[
                                                    symbol[
                                                        "else"
                                                    ]
                                                ]
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
        ]
        expression[
            guard[
                branch[
                    expression[
                        dualOperation[
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "test"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                    expression[
                        dualOperation[
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "and_then"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
                endOfBranch[
                    expression[
                        dualOperation[
                            unaryOperation[
                                atomExpr[
                                    typing[
                                        atom[
                                            symbol[
                                                "else"
                                            ]
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
        ]
    ]
]